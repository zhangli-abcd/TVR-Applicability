



Time-Variant Routing                                            L. Zhang
Internet-Draft                                                   J. Dong
Intended status: Informational                                    Huawei
Expires: 21 April 2025                                      M. Boucadair
                                                                  Orange
                                                         18 October 2024


    Applicability of TVR YANG Data Models for Scheduling of Network
                               Resources
                   draft-zdm-tvr-applicability-latest

Abstract

   TODO Abstract

Discussion Venues

   This note is to be removed before publishing as an RFC.

   Discussion of this document takes place on the Time-Variant Routing
   Working Group mailing list (tvr@ietf.org), which is archived at
   https://mailarchive.ietf.org/arch/browse/tvr/.

   Source for this draft and an issue tracker can be found at
   https://github.com/zhangli-abcd/TVR-Applicability-2.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on 21 April 2025.

Copyright Notice

   Copyright (c) 2024 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents (https://trustee.ietf.org/
   license-info) in effect on the date of publication of this document.
   Please review these documents carefully, as they describe your rights
   and restrictions with respect to this document.  Code Components
   extracted from this document must include Revised BSD License text as
   described in Section 4.e of the Trust Legal Provisions and are
   provided without warranty as described in the Revised BSD License.

Table of Contents

   1.  Introduction
   2.  Conventions and Definitions
   3.  Overview of Tidal Network Use Case
   4.  Applicability of TVR Yang Model in Tidal Network
     4.1.  Network Model
       4.1.1.  Centralized Model
       4.1.2.  Distributed Model
     4.2.  Interaction Between Devices
       4.2.1.  Centralized Model
       4.2.2.  Distributed Model
     4.3.  Yang Model for Tidal Network
     4.4.  Encoding of Yang Model
     4.5.  NetConf Example
     4.6.  RESTConf Example
   5.  Time Synchronization
     5.1.  NTP
     5.2.  SNTP
   6.  Schedule Database
     6.1.  Data Structure
     6.2.  Operations
   7.  Operational Considerations
   8.  Security Considerations
   9.  IANA Considerations
   10. References
     10.1.  Normative References
     10.2.  Informative References
   Acknowledgments
   Contributors
   Authors' Addresses

1.  Introduction

   TODO Introduction

2.  Conventions and Definitions

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
   "OPTIONAL" in this document are to be interpreted as described in
   BCP 14 [RFC2119] [RFC8174] when, and only when, they appear in all
   capitals, as shown here.

3.  Overview of Tidal Network Use Case

   Tidal network is a typical scenario of Energy Efficient case
   (Section 3 of [I-D.ietf-tvr-use-cases]).  The tidal network means
   that the volume of traffic in the network changes periodically like
   the ocean tide.  These changes are mainly affected by human
   activities.  Therefore, this tidal effect is obvious in human-
   populated areas, such as campuses and airports.

   In the context of a tidal network, if the network maintains all the
   devices up to guarantee a maximum throughput all the time, a lot of
   power will be wasted.  The energy-saving methods may include the
   deactivation of some or all components of network nodes.  These
   activities have the potential to alter network topology and impact
   data routing/forwarding in a variety of ways.  Interfaces on network
   nodes can be selectively disabled or enabled based on traffic
   patterns, thereby reducing the energy consumption of nodes during
   periods of low network traffic.  The following clauses will describe
   how to use TVR YANG model[I-D.ietf-tvr-schedule-yang] in Tidal
   Network.

4.  Applicability of TVR Yang Model in Tidal Network

4.1.  Network Model

   According to the description of Section 3.1 of
   [I-D.ietf-tvr-requirements], the scheduling generation locality and
   execution locality may be centralized or distributed.

   When the schedule is generated and executed in a centralized manner,
   the changes are sent to routing applications in wall-clock time via a
   management interface, which does not need to be delivered by YANG
   model.  This can be implemented by the existing management plane
   technology.  Therefore, this scenario is outside of the scope of this
   document.

   When the schedule is generated and executed in a distributed manner,
   there is also no need for delivering the schedule by YANG model.
   Therefore, this scenario is also outside of the scope of this
   document.

   When a schedule is generated in a centralized manner and executed in
   a distributed manner, the YANG module needs to be used to deliver the
   schedule to the managed device.  Depending on the location of the
   routing application, the network model can be devided into two types:
   distributed and centralized.

4.1.1.  Centralized Model

   In the centralized model, the network managing device generates and
   maintains schedules, the routing application is deployed in the
   network controller, and the network devices execute the schedules and
   routing results.  The following figure shows the components of
   centralized model.

    +-----------------------------------------------------------------+
    |                        Managing Device                          |
    +-----------------------------------------------------------------+
               |                                           |
           Data Model                                  Data Model
               |                                           |
    +---------\|/----------+                     +--------\|/--------+
    |  Network Controller  |---Routing Results-->|  Network Devices  |
    +----------------------+                     +-------------------+

                 Figure 1: Components of Centralized Model

4.1.2.  Distributed Model

   In the distributed model, the managing device generates and maintains
   schedules, the routing application is deployed in the network devices
   who also executes schedules and route calculation.

    +-------------------------------------------------+
    |                  Managing Device                |
    +-------------------------------------------------+
                             |
                         Data Model
                             |
    +-----------------------\|/-----------------------+
    |         Managed Device (Network Devices)        |
    +-------------------------------------------------+

                 Figure 2: Components of Distributed Model

4.2.  Interaction Between Devices

4.2.1.  Centralized Model

   Centralized model involves the interaction between the managing
   device and network controller, the managing device and network
   devices, and the controller and network devices.

   The managing device needs to deliver node-specific schedules to
   network devices by TVR Schedule Node YANG module Section 5.2 of
   [I-D.ietf-tvr-schedule-yang], and the network devices need to report
   their own status data to the management device.

   The managing device needs to deliver schedules of the network
   topology to the network controller by the TVR Network Topology YANG
   moduleSection 5.3 of [I-D.ietf-tvr-schedule-yang], so that the
   routing application in the controller can consider the impact of
   topology changes on routes when calculating routes.

   The network controller needs to delivers the route calculation result
   to the network devices(The format of the routing results depending on
   the protocols deployed).  The routing result for a period of time in
   the future could be sent to the network devices in wall-clock time or
   be packed and send at some special points.

4.2.2.  Distributed Model

   The distributed model only involves the interaction between managing
   device and network devices.

   The managing device needs to deliver node-specific schedules to
   network devices by TVR Schedule Node YANG Module, and deliver network
   topology schedules to the all the network devices by TVR Network
   Topology Yang module for route calculation.  The network devices need
   to report their own status data to the managing device.

4.3.  Yang Model for Tidal Network

   [I-D.ietf-tvr-schedule-yang] defines TVR nodes and topology Yang
   modules.  The node Yang module describes the power state and
   interface attributes (such as available, bandwidth, and neighbor) of
   a node at different moments.  The topology Yang module describes the
   availability of nodes at different time points and the attributes of
   links at different time points (such as link-available, bandwidth,
   delay, and destination node) in the topology.  Both TVR YANG modules
   can be used in Tidal networks to control node and interface
   attributes and distribution of time-varying topology information.

4.4.  Encoding of Yang Model

   How/what do we encode from YANG to the messenger protocol, which
   protocol, and why?

4.5.  NetConf Example

   TODO

4.6.  RESTConf Example

   TODO

5.  Time Synchronization

   According to Section 3.1.3 of [I-D.ietf-tvr-requirements], no matter
   whether the schedules are executed in a centralized or distributed
   mode, a mechanism is required to keep the time synchronization
   between different devices.

   Different time-variant scenarios may require different granularities
   of time synchronization.  For example, the period of traffic and
   topology changes in tidal networks is usually day or week.
   Therefore, a second-level time synchronization is enough.

   Existing clock synchronization protocols can be classified into
   hardware-based protocols and software-based protocols.  Hardware-
   based protocols often rely on dedicated hardware to ensure clock
   synchronization, such as Global Positioning System (GPS) and
   Precision Time Protocol (PTP).  Software-based protocols, on the
   other hand, synchronize clocks through software packages running on
   systems, such as Network Time Protocol (NTP) [RFC5905] and Simple
   Network Time Protocol (SNTP) [RFC4330].

   Hardware-based protocols typically have higher precision and
   stability, but also have higher cost due to the dedicated hardware.
   Software-based protocols are simple and applicable to common hardware
   devices, but have lower precision (For example, the NTP can realize
   the synchronization at tens of milliseconds level).  Considering the
   tidal network time synchronize requirements, the software-based
   protocols is enough.

5.1.  NTP

   NTP uses a hierarchical structure of time sources.  Each level of
   this hierarchy is termed a stratum.  Generally, an NTP server
   synchronized to an authoritative clock runs at stratum 1.  Such NTP
   server functions as the primary time server to provide clock
   synchronization for other devices on the network.  Stratum 2 servers
   obtain time from stratum 1 servers, stratum 3 servers obtain time
   from stratum 2 servers, and so on.

   In a tidal network, the managing device functions as a level-1 NTP
   server and synchronized to an authoritative clock source.  The
   network controller and network devices behave as clients to obtain
   accurate time from the managing device.  Figure 3 shows an NTP
   deployment scenario for obtaining clock from a GPS clock source.

                              +--------------------+
                              |  GPS Clock Source  |
                              +--------------------+
                                        |
                  +--------------------\|/------------------+
   Stratum 1      |             Managing Device             |
                  +-----------------------------------------+
                        |                             |
                        |                             |
                        |                             |
             +---------\|/----------+       +--------\|/--------+
   Stratum 2 |  Network Controller  |       |  Network Devices  |
             +----------------------+       +-------------------+

             Figure 3: Deployment Case of NTP in Tidal Networks

5.2.  SNTP

   SNTP is a subset of the NTP used to synchronize computer clocks in
   the Internet.  It simplifies the complex NTP synchronization function
   and is suitable for networks with limited resources and loose
   precision requirements.  Compared with NTP, SNTP has lower clock
   precision, but the synchronization precision still can be guarded
   under seconds.  Therefore, SNTP also meets the time synchronization
   requirements of tidal networks and can be used as an alternative
   clock synchronization protocol.

6.  Schedule Database

   The schedule database is used to store and maintain schedules, the
   database may be deployed on a managing device and managed devices
   based on requirements.

   The schedule source of the schedule database may be diversified, for
   example, configuration from an administrator or YANG model from the
   management interface.  The schedule entries of different databases
   may be different, but the content of the same schedule entry in the
   schedule databases of different devices in the same domain must be
   consistent.  There are at least two ways to make the content of the
   same schedule entry in different schedule databases consistent:

   *  All the schedule entries are generated at a specific device;

   *  Schedule entries are generated at different devices, but there is
      a synchronization mechanism to synchronize the schedule databases
      among devices.

   Option 1 is simplest and easy to implement.  In a time-variant
   domain, the managing device may receive scheduling requests and
   generate all schedule entries.  Then the schedule entries are
   delivered to the necessary network devices in the domain through the
   TVR YANG model.

   Option 2 relies on advertisement mechanisms (such as routing
   techniques) to advertise the scheduling data generated by itself to
   other devices.  This could be achieved using extensions to existing
   routing schemes and techniques.

6.1.  Data Structure

   [I-D.ietf-tvr-schedule-yang] defines a TVR Node and TVR Topology YANG
   modules.  The Node YANG module includes node power schedule and
   interface schedule.  The Topology YANG module includes nodes schedule
   and links schedule.

   Based on the preceding four schedule types, the schedule database
   should contain four types of schedule entries in different formats:
   Node power schedule entry, Interface schedule entry, nodes schedule
   entry, and links schedule entry.  The detailed format and fields of
   different types of schedule entries could reference to the
   definitions of corresponding YANG modules.

6.2.  Operations

   Schedule database should support the add, update, and delete
   operations.

   When adding or updating a schedule entry, the execution node needs to
   check whether resource conflicts exist between the current schedule
   and existing schedules.  If a conflict exists, the operation is
   failed.

   Schedules are updated and deleted based on schedule IDs.  Therefore,
   schedule IDs must be unique in a time-variant domain.  This can be
   handled, e.g., by a dedicated allocation agent within the time-
   variant domain.

7.  Operational Considerations

   TODO

8.  Security Considerations

   What steps should we take to address security considerations (from
   the TVR Requirements I-D)?

9.  IANA Considerations

   This document has no IANA actions.

10.  References

10.1.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/rfc/rfc2119>.

   [RFC8174]  Leiba, B., "Ambiguity of Uppercase vs Lowercase in RFC
              2119 Key Words", BCP 14, RFC 8174, DOI 10.17487/RFC8174,
              May 2017, <https://www.rfc-editor.org/rfc/rfc8174>.

10.2.  Informative References

   [I-D.ietf-tvr-requirements]
              King, D., Contreras, L. M., Sipos, B., and L. Zhang, "TVR
              (Time-Variant Routing) Requirements", Work in Progress,
              Internet-Draft, draft-ietf-tvr-requirements-04, 13
              September 2024, <https://datatracker.ietf.org/doc/html/
              draft-ietf-tvr-requirements-04>.

   [I-D.ietf-tvr-schedule-yang]
              Qu, Y., Lindem, A., Kinzie, E., Fedyk, D., and M.
              Blanchet, "YANG Data Model for Scheduled Attributes", Work
              in Progress, Internet-Draft, draft-ietf-tvr-schedule-yang-
              02, 22 July 2024, <https://datatracker.ietf.org/doc/html/
              draft-ietf-tvr-schedule-yang-02>.

   [I-D.ietf-tvr-use-cases]
              Birrane, E. J., Kuhn, N., Qu, Y., Taylor, R., and L.
              Zhang, "TVR (Time-Variant Routing) Use Cases", Work in
              Progress, Internet-Draft, draft-ietf-tvr-use-cases-09, 29
              February 2024, <https://datatracker.ietf.org/doc/html/
              draft-ietf-tvr-use-cases-09>.

   [RFC4330]  Mills, D., "Simple Network Time Protocol (SNTP) Version 4
              for IPv4, IPv6 and OSI", RFC 4330, DOI 10.17487/RFC4330,
              January 2006, <https://www.rfc-editor.org/rfc/rfc4330>.

   [RFC5905]  Mills, D., Martin, J., Ed., Burbank, J., and W. Kasch,
              "Network Time Protocol Version 4: Protocol and Algorithms
              Specification", RFC 5905, DOI 10.17487/RFC5905, June 2010,
              <https://www.rfc-editor.org/rfc/rfc5905>.

Acknowledgments

   TODO acknowledge.

Contributors

   Daniel King
   Lancaster University
   United Kingdom
   Email: d.king@lancaster.ac.uk


   Charalampos (Haris) Rotsos
   Lancaster University
   Email: c.rotsos@lancaster.ac.uk


   Peng Liu
   China Mobile
   Email: liupengyjy@chinamobile.com


   Tony Li
   Juniper Networks
   Email: tony.li@tony.li


Authors' Addresses

   Li Zhang
   Huawei
   Email: zhangli344@huawei.com


   Jie Dong
   Huawei
   Email: jie.dong@huawei.com


   Mohamed Boucadair
   Orange
   Email: mohamed.boucadair@orange.com
